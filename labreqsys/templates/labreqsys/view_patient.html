{% extends 'labreqsys/base.html' %}
{% load static tailwind_tags %}

{% block content %}
<div class="breadbutton">
    <ul class="breadcrumb">
        <li><a href="{% url 'patientList' %}">Patient List</a></li>
        <li><a href="#" class="current">Patient Record</a></li>
    </ul>
    <div class="buttons">
        <button>Edit Patient</button>
        <button> <a href="{% url 'add_labreq' pk=patient.pk %}">Add Request</a></button>
    </div>
</div>

<div class="w-full h-hug p-8 pt-6 bg-white rounded-m shadow inline-flex flex-col justify-start items-start gap-2 overflow-hidden">
    <div class="w-[550px] inline-flex justify-start items-center gap-1.5">
        <div class="w-[206px] py-2.5 flex justify-start items-center gap-1.5">
            <div class="text-blue-900 text-m"> Patient ID </div>
        </div>
        <div class="px-6 py-1 bg-gray-100 rounded-3xl flex justify-center items-center gap-1.5">
            <div class="justify-center text-black text-s">{{patient.patient_id}}</div>
        </div>
    </div>
        
    <div class="self-stretch inline-flex flex-col justify-start items-start gap-6">
        <!--Section title: Patient Information-->
        <div class="self-stretch py-1 border-b border-black/20 inline-flex justify-center items-center gap-1.5">
            <div class="flex-1 h-9 justify-center text-blue-900 text-mm font-semibold">Patient Information</div>
        </div>

        <!--Section Content-->
        <div class="self-stretch inline-flex justify-center items-start gap-1.5"> <!--idk what this is for but also contains both columns-->
            <div class="self-stretch inline-flex justify-start items-start gap-4"> <!--both columns-->
                <div class="inline-flex flex-col justify-start items-start gap-1.5"> <!--columns-->
                    <div class="w-[550px] inline-flex justify-start items-start gap-1.5"> <!--info row-->
                        <div class="flex-1 p-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                          <div class="flex-1 justify-center text-[#274291] text-xl font-semibold">Patient Name</div>
                        </div>
                        <div class="w-[339px] p-2.5 flex justify-start items-center gap-1.5">
                          <div class="flex-1 justify-center text-black text-xl font-normal">Santa Cruz, Jonathan Nathaniel, Jr.</div>
                        </div>
                    </div>
                </div>

                <div class="inline-flex flex-col justify-start items-start gap-2.5"> <!--columns-->
                    <div class="w-[550px] inline-flex justify-start items-start gap-1.5"> <!--info row-->
                        <div class="flex-1 p-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                          <div class="flex-1 justify-center text-[#274291] text-xl font-semibold">Patient Name</div>
                        </div>
                        <div class="w-[339px] p-2.5 flex justify-start items-center gap-1.5">
                          <div class="flex-1 justify-center text-black text-xl font-normal">Santa Cruz, Jonathan Nathaniel, Jr.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    


    <table>
        <tr>
            <th>Patient Name</th>
            <td>{{full_name}}</td>
            <th>Mobile No.</th>
            <td>{{patient.mobile_num}}</td>
        </tr>
        <tr>
            <th>Sex</th>
            <td>{{patient.sex}}</td>
            <th>Landline No.</th>
            <td>{{patient.landline_num}}</td>
        </tr>
        <tr>
            <th>Civil Status</th>
            <td>{{patient.civil_status}}</td>
            <th>Email</th>
            <td>{{patient.email}}</td>
        </tr>
        <tr>
            <th>Age</th>
            <td>{{age}}</td>
            <th>Address</th>
            <td>{{address}}</td>
        </tr>
        <tr>
            <th>Birthday</th>
            <td>{{patient.birthdate}}</td>
        </tr>
    </table>
    <h1>ID</h1>
    <hr>
    <table>
        <tr>
            <th>PWD</th>
            <td>{{patient.pwd_id_num}}</td>
            <th>Senior Citizen</th>
            <td>{{patient.senior_id_num}}</td>
        </tr>
    </table>
    <h1>Laboratory Request Record</h1>
    <hr>
    <table>
        <thead>
            <tr>Date Requested</tr>
            <tr>Request ID</tr>
            <tr>Overall Status</tr>
            <tr>Pick-Up Status</tr>
            <tr>Email Status</tr>
        </thead>
        <tbody>
            {% for r in requests %}
                <tr>
                    <td>{{ r.date_requested }}</td>
                    <td>{{ r.request_id }}</td>
                    <td>{{ r.overall_status }}</td>
                    <td>{{ pickups }}</td> <!--this should be replace with a for loop noting collection logs-->
                    <td>{{ emails }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock content %}

{% block styles %}
<style>
    ul.breadcrumb li {
        display: inline;
        font-size: 12px;
    }
    
    ul.breadcrumb li+li:before {
        color: black;
        content: "/\00a0";
    }

    ul.breadcrumb .current {
        color: #00BAFF;
    }

    .breadbutton{
        display: flex;
        justify-content: space-between;
    }
</style>
{% endblock styles %}