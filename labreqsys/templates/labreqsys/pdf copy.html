{% load static tailwind_tags %}

<!-- NOTE: did not use base because it will have the navbar, if i add it, it will be included in the pdf-->
<!-- NOTE: this copy is for notes purposes-->

<!DOCTYPE html>
<html lang="en">
	<head>
    <title>Patient record</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		{% tailwind_css %} <!--make sure you have a tailwind tag here-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link href="styles.css" rel="stylesheet">

	</head>

<div>
<img src="{% static 'images/drmed_full.png' %}" class="h-8 me-3" alt="DRMed Logo" />
    <div> 4/F NORTHRIDGE PLAZA,
        CONGRESSIONAL AVE., QUEZON CITY
        (02) 8355 3517 / (0916) 604 3208 </div>
    </div>
</div>


   
<!--SECTION 1: PATIENT INFORMATION-->
<div class="self-stretch inline-flex flex-col justify-start items-start gap-2.5"> <!--section-->
    <!--Section Content-->
    <div class="self-stretch inline-flex justify-start items-start gap-4"> <!--both columns-->
        <div class="inline-flex flex-col justify-start items-start gap-1.5"> <!--indiv column-->

            <div class="w-[132px] inline-flex justify-start items-center gap-1.5">
                <div class="w-[206px] py-2.5 px-2.5 flex justify-start items-center gap-1.5">
                    <div class="text-blue-900 text-xs"> Patient ID </div>
                </div>
                <div class="px-6 py-1 bg-gray-100 rounded-3xl flex justify-center items-center gap-1.5">
                    <div class="justify-center text-black text-xs">{{patient.patient_id}}</div>
                </div>
            </div>

            <div class="inline-flex justify-start items-start gap-1.5"> <!--info row-->
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-28 justify-center text-xs font-semibold text-blue-900 ">Patient Name</div>
                </div>
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-7 justify-center text-xs text-black font-normal">{{patient.last_name}}, {{patient.first_name}}</div>
                </div>
            </div>

            <div class="inline-flex justify-start items-start gap-1.5"> <!--info row-->
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-28 justify-center text-xs font-semibold text-blue-900 ">Age</div>
                </div>
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-7 justify-center text-xs text-black font-normal">{{age}}</div>
                </div>
            </div>

            <div class="inline-flex justify-start items-start gap-1.5"> <!--info row-->
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-28 justify-center text-xs font-semibold text-blue-900 ">Civil Status</div>
                </div>
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-7 justify-center text-xs text-black font-normal">{{patient.civil_status}}</div>
                </div>
            </div>

            <div class="inline-flex justify-start items-start gap-1.5"> <!--info row-->
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-28 justify-center text-xs font-semibold text-blue-900 ">Birthday</div>
                </div>
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-7 justify-center text-xs text-black font-normal">{{patient.birthdate}}</div>
                </div>
            </div>

            <div class="inline-flex justify-start items-start gap-1.5"> <!--info row-->
                <div class="w-7 flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-28 justify-center text-xs font-semibold text-blue-900 ">Mobile No.</div>
                </div>
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-7 justify-center text-xs text-black font-normal">{{patient.mobile_num}}</div>
                </div>
            </div>

        </div>

        <!--COLUMN 2-->
        <div class="inline-flex flex-col justify-start items-start gap-1.5"> <!--indiv column: Column 2-->

            <div class="w-[132px] inline-flex justify-start items-center gap-1.5">
                <div class="w-[206px] py-2.5 px-2.5 flex justify-start items-center gap-1.5">
                    <div class="text-blue-900 text-xs"> Date Requested </div>
                </div>
                <div class="px-6 py-1 bg-gray-100 rounded-3xl flex justify-center items-center gap-1.5">
                    <div class="justify-center text-black text-xs">{{lab_request.date_requested}}</div>
                </div>
            </div>
            
            

            <div class="inline-flex justify-start items-start gap-1.5"> <!--info row-->
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-28 justify-center text-xs font-semibold text-blue-900 ">Landline No.</div>
                </div>
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-7 justify-center text-xs text-black font-normal">{{patient.landline_num}}</div>
                </div>
            </div>

            <div class="inline-flex justify-start items-start gap-1.5"> <!--info row-->
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-28 justify-center text-xs font-semibold text-blue-900 ">Email</div>
                </div>
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-7 justify-center text-xs text-black font-normal">{{patient.email}}</div>
                </div>
            </div>

            <div class="inline-flex justify-start items-start gap-1.5"> <!--info row-->
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-28 justify-center text-xs font-semibold text-blue-900 ">Address</div>
                </div>
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-7 justify-center text-xs text-black font-normal">{{address}}</div>
                </div>
            </div>

            <div class="inline-flex justify-start items-start gap-1.5"> <!--info row-->
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-28 justify-center text-xs font-semibold text-blue-900 ">Physician</div>
                </div>
                <div class="flex-1 px-2.5 flex justify-start items-center gap-1.5"> <!--indiv info-->
                    <div class="w-7 justify-center text-xs text-black font-normal">{{lab_request.physician}}</div>
                </div>
            </div>

        </div>
    
    </div>

<!--Section title: Patient Information-->
{{template_form.template_name}}

<!--Results Section-->
{% for section in template_sec_result %}
    <table>
        <thead>
            {% for field in template_field_result %}
            <th> {{field.label_name}} </th>
            {% endfor%}
            
        {% for value in result_value_result %}
        <tr>
            {% for field in template_field_result %} 
            <td>
                    {% if field.label_name == 'Result' %}
                        {% if value.field == field %}
                            {{ value.field_value }}
                        {% endif %}
                    {% else %}
                        {{ field.field_value }}
                    {% endif %}
            </td>
            {% endfor %}
        </tr>
        {% endfor %}
</table>
    {% endfor %}

<!--Image Section-->
{% if template_sec_image %}
    {% for section in template_sec_image%}
        <table>
            <thead>
                {% for field in template_field_image %}
                <th> {{field.label_name}} </th>
                {% endfor%}
                
            {% for value in result_value %}
            <tr>
                
                {% for field in template_field_image %}
                    
                <td>
                    <!-- do something here ?? -->>
                    
                </td>
                {% endfor %}
            </tr>
        {% endfor %}
    {% endfor %}
{% endif %}


{% if template_sec_remark %}
    {% for section in template_sec_remark %}
        {{section.section_name}}
        <table>
            <thead>
                
                {% for field in template_field_remark %}
                <th>{{field.label_name}} </th>
                {% endfor%}
                
            {% for value in result_value_remark %}
            <tr>
                
                {% for field in template_field_remark %}  
                       
                <td>
                    {% if value.field == field %}
                        {{ value.field_value }}
                    {% endif %}
                </td>
                {% endfor %}
            </tr>
        {% endfor %}
    {% endfor %}
{% endif %}






